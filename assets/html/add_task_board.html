<body onload="initAddTask()">
  <section class="wrapper-create-task-section d-none" id="wrapper-create-task-section">
    <div class="wrapper-create-task">
      <div class="wrapper-create-task-center">
        <p>Task added to board</p>
        <img src="/assets/img/icon/tasks_icon/board.png" alt="" />
      </div>
    </div>
  </section>
  <div class="contentspace-html addtask content-add-task">
    <div class="headline-addtask">
      <h1>Add Task</h1>
    </div>
    <img onclick="closeCreateTask()" src="../img/icon/close.png" alt="" class="close-overlay-x" />
    <div class="required"></div>
    <form id="add-task-form" onkeydown="return preventEnterSubmit(event);">
      <div class="title_description_date">
        <div class="container1">
          <div class="input-group add-task">
            <span>Title<span class="required-star">*</span></span>
            <input
              id="title"
              type="text"
              name="add-task-input1"
              onclick="showError('add-task-input1-warning', 'title')"
              oninput="showError('add-task-input1-warning', 'title'); enableCreateTaskButton();"
              placeholder="Enter a Title"
            />
            <span id="add-task-input1-warning" class="input-warning d-none create-task-in-board"
              >This field is required</span
            >
          </div>
          <div class="input-group add-task">
            <span>Description</span>
            <div class="description-input-container">
              <textarea id="description" name="add-task-textarea" placeholder="Enter a Description"></textarea>
              <span class="input-icon">
                <img src="/assets/img/icon/add_task_icon/textarea.png" alt="" />
              </span>
            </div>
          </div>
          <div class="input-group add-task date">
            <span>Due Date<span class="required-star">*</span></span>
            <div class="date-input-container">
              <input
                id="date"
                type="text"
                placeholder="DD/MM/YYYY"
                min=""
                max="31/12/2035"
                name="add-task-input2"
                onclick="showError('add-task-input2-warning', 'date')"
                oninput="showError('add-task-input2-warning', 'date'); enableCreateTaskButton(this)"
              />
              <span class="date-icon" onclick="setTodaysDate()">
                <img src="/assets/img/icon/add_task_icon/event.png" alt="" />
              </span>
            </div>
            <span id="add-task-input2-warning" class="input-warning d-none">This field is required</span>
          </div>
        </div>
      </div>
      <div class="dividing-strips"></div>
      <div class="task-attribute">
        <div class="priority">
          <div>
            <span>Priority</span>
          </div>
          <div class="priority-buttons">
            <button type="button" class="add-task-button" id="urgent" onclick="togglePriority('urgent')">
              Urgent <img src="/assets/img/icon/priority/urgent.png" alt="" />
            </button>
            <button type="button" class="add-task-button" id="medium" onclick="togglePriority('medium')">
              Medium <img class="priority-button-medium-img" src="/assets/img/icon/priority/medium.png" alt="" />
            </button>
            <button type="button" class="add-task-button" id="low" onclick="togglePriority('low')">
              Low <img src="/assets/img/icon/priority/low.png" alt="" />
            </button>
          </div>
        </div>
        <div class="container2">
          <div class="add-task">
            <span>Assigned to</span>
            <div id="assigned-to-dropdown">
              <div id="assigned-to-dropdown-selected" onclick="eventBubbling(event)">
                <input
                  id="add-task-input3"
                  name="add-task-input3"
                  type="text"
                  placeholder="Select a contact"
                  oninput="assignedToDropdown(this.value)"
                  onclick="handleDropdown('assigned-to-dropdown-options', 'assigned-to-arrow', 'open'); assignedToDropdown(this.value)"
                />
                <div
                  class="assigned-arrow"
                  onclick="handleDropdown('assigned-to-dropdown-options', 'assigned-to-arrow', 'toggle'); assignedToDropdown(document.getElementById('add-task-input3').value);"
                >
                  <img
                    class="hover-icon"
                    id="assigned-to-arrow"
                    src="/assets/img/icon/add_task_icon/dropdown_menu/arrow_drop_downaa.png"
                    alt=""
                  />
                </div>
              </div>
              <div
                id="assigned-to-dropdown-options"
                class="hidden custom-dropdown-options"
                onclick="eventBubbling(event)"
              ></div>
              <div class="show-contacts-add-task d-none" id="show-contacts-add-task"></div>
            </div>
          </div>
          <div class="add-task">
            <span>Category<span class="required-star">*</span></span>
            <div id="category-dropdown" onclick="eventBubbling(event)">
              <div
                id="category-dropdown-selected"
                onclick="handleDropdown('category-dropdown-options', 'category-selected-arrow', 'toggle'); showError('category-dropdown-warning', 'category-dropdown-selected', true)"
              >
                <p>Select a task category</p>
                <img
                  class="hover-icon"
                  id="category-selected-arrow"
                  src="/assets/img/icon/add_task_icon/dropdown_menu/arrow_drop_downaa.png"
                  alt=""
                />
              </div>
              <ul id="category-dropdown-options" class="hidden custom-dropdown-options" onclick="eventBubbling(event)">
                <p class="filllicker-category"></p>
                <p class="category-option" onclick="handleCategoryOptionClick(event, this)">
                  <span class="category-option-text">Technical Task</span>
                </p>
                <p class="category-option" onclick="handleCategoryOptionClick(event, this)">
                  <span class="category-option-text">User Story</span>
                </p>
              </ul>
            </div>
            <span id="category-dropdown-warning" class="input-warning d-none">This field is required</span>
          </div>
          <div class="input-group add-task">
            <span>Subtasks</span>
            <div class="subtask-input-container">
              <input
                id="add-task-input4"
                oninput="onSubtaskInputChange()"
                onkeydown="onSubtaskInputKeydown(event)"
                name="add-task-input4"
                type="text"
                placeholder="Add new subtask"
              />
              <span class="subtasks-icon" id="subtasks-icon">
                <img
                  class="hover-icon"
                  src="/assets/img/icon/add_task_icon/plus.png"
                  alt="Add"
                  onclick="pushSubtaskInput(event)"
                />
              </span>
            </div>
          </div>
          <div id="subtasks-container" class="subtasks-container"></div>
        </div>
        <div class="create-clear-buttons-edit">
          <button type="button" class="cancel-button" onclick="closeCreateTask()">
            Cancel <img class="cancel-icon" src="../img/icon/close.png" alt="" />
          </button>
          <button class="create-button" id="create-task-button" onclick="validateAddTaskForm()">
            Create Task <img src="/assets/img/icon/add_task_icon/buttons/create_task.png" />
          </button>
        </div>
      </div>
      <p class="required-responsive"><span class="required-star">*</span>This field is required</p>
    </form>
  </div>
</body>
